(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{9527:function(e,t,r){Promise.resolve().then(r.bind(r,3488))},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(231),n=r.n(a)},3488:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),n=r(2265),l=r(7138),s=r(6463),u=r(1270),o=r(9391);function i(){let[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[f,g]=(0,n.useState)(!1),{login:m}=(0,u.a)(),v=(0,s.useRouter)(),x=async t=>{if(t.preventDefault(),p(""),g(!0),c.length<6){p("Password must be at least 6 characters long."),g(!1);return}try{let{data:t}=await o.Z.post("".concat("http://localhost:5001/api","/auth/register"),{name:e,email:r,password:c});m(t),v.push("/")}catch(e){var a,n;p((null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to register. Please try again.")}finally{g(!1)}};return(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsx)("h2",{children:"Create an Account"}),h&&(0,a.jsx)("p",{style:{color:"red"},children:h}),(0,a.jsx)("label",{htmlFor:"name",children:"Name"}),(0,a.jsx)("input",{id:"name",type:"text",placeholder:"Your Name",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("label",{htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",placeholder:"your.email@example.com",value:r,onChange:e=>i(e.target.value),required:!0}),(0,a.jsx)("label",{htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",placeholder:"••••••",value:c,onChange:e=>d(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",disabled:f,children:f?"Registering...":"Register"}),(0,a.jsxs)("p",{style:{marginTop:"1rem",textAlign:"center"},children:["Already have an account?"," ",(0,a.jsx)(l.default,{href:"/login",style:{color:"#0070f3"},children:"Login"})]})]})}},1270:function(e,t,r){"use strict";r.d(t,{H:function(){return u},a:function(){return o}});var a=r(7437),n=r(2265),l=r(6463);let s=(0,n.createContext)(null),u=e=>{let{children:t}=e,[r,u]=(0,n.useState)(null),o=(0,l.useRouter)();return(0,n.useEffect)(()=>{let e=localStorage.getItem("userInfo");e&&u(JSON.parse(e))},[]),(0,a.jsx)(s.Provider,{value:{userInfo:r,login:e=>{localStorage.setItem("userInfo",JSON.stringify(e)),u(e),o.push("/")},logout:()=>{localStorage.removeItem("userInfo"),u(null),o.push("/login")}},children:t})},o=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9391:function(e,t,r){"use strict";let a=r(8472).Z.create({baseURL:"http://localhost:5001/api"});a.interceptors.request.use(e=>{{let t=localStorage.getItem("userInfo");if(t){let{token:r}=JSON.parse(t);r&&(e.headers.Authorization="Bearer ".concat(r))}}return e}),t.Z=a}},function(e){e.O(0,[236,231,971,23,744],function(){return e(e.s=9527)}),_N_E=e.O()}]);